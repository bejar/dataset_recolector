<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="mystyle.css">
    </head>
    <body>
        <div class="block_padding" id="frase"></div>
        <div style="float:right" onclick="get_phrase()">üîÑ</div>
        <div style="border: 1px solid">
            Recorder space 
            <span id="btnRecord">üî¥</span>
            <span id="btnStop">‚èπÔ∏è</span>
            <span id="btnPlay" onclick="play_recording()">‚ñ∂Ô∏è</span>
            <div>
                <span>Status:</span> <span id="status">Stopped</span>
            </div>
            <canvas width="1200" height="80" id="visualizer"></canvas>
        </div>

        <section id="soundList" class="sound-clips">


        </section>
    </body>
    <script src="record.js"></script>
    <script>
        
        function load(url, callback) {
            var xhr = new XMLHttpRequest();

            xhr.onreadystatechange = () => {
                if (xhr.readyState == 4) {
                    callback(xhr.response)
                }
            }

            xhr.open('GET', url, true)
            xhr.send();
        }


        function pinta_frase(frase) {
            console.log(frase)
            document.getElementById('frase').innerHTML = frase
        }

        
        function get_phrase() {
            load('http://localhost:8000/phrase', pinta_frase)
        }

        get_phrase()
    </script>
</html>